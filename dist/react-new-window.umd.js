!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):e.ReactNewWindow=t(e.React,e.ReactDOM)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(i){function c(e){n(this,c);var t=r(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.container=document.createElement("div"),t.window=null,t.windowCheckerInterval=null,t.released=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,e.PureComponent),o(c,[{key:"render",value:function(){return t.createPortal(this.props.children,this.container)}},{key:"componentDidMount",value:function(){var e,t,n,o=this,r=this.props,i=r.url,c=r.title,l=r.name,d=r.features,a=r.onBlock,s=r.center;if("string"!=typeof s||void 0!==d.width&&void 0!==d.height){if("parent"===s)d.left=window.top.outerWidth/2+window.top.screenX-d.width/2,d.top=window.top.outerHeight/2+window.top.screenY-d.height/2;else if("screen"===s){var u=void 0!==window.screenLeft?window.screenLeft:screen.left,f=void 0!==window.screenTop?window.screenTop:screen.top,w=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,h=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;d.left=w/2-d.width/2+u,d.top=h/2-d.height/2+f}}else console.warn("width and height window features must be present when a center prop is provided");this.window=window.open(i,l,(e=d,Object.keys(e).reduce(function(t,n){var o=e[n];return"boolean"==typeof o?t.push(n+"="+(o?"yes":"no")):t.push(n+"="+o),t},[]).join(","))),this.windowCheckerInterval=setInterval(function(){o.window&&!o.window.closed||o.release()},50),this.window?(this.window.document.title=c,this.window.document.body.appendChild(this.container),this.props.copyStyles&&(t=document,n=this.window.document,Array.from(t.styleSheets).forEach(function(e){if(e.cssRules){var o=t.createElement("style");Array.from(e.cssRules).forEach(function(e){o.appendChild(t.createTextNode(e.cssText))}),n.head.appendChild(o)}else if(e.href){var r=t.createElement("link");r.rel="stylesheet",r.href=e.href,n.head.appendChild(r)}})),this.window.addEventListener("beforeunload",function(){return o.release()})):"function"==typeof a?a.call(null):console.warn("A new window could not be opened. Maybe it was blocked.")}},{key:"componentWillUnmount",value:function(){this.window&&this.window.close()}},{key:"release",value:function(){if(!this.released){this.released=!0,clearInterval(this.windowCheckerInterval);var e=this.props.onUnload;"function"==typeof e&&e.call(null)}}}]),c}();return i.defaultProps={url:"",name:"",title:"",features:{},onBlock:null,onUnload:null,center:"parent",copyStyles:!0},i});
//# sourceMappingURL=react-new-window.umd.js.map
